<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Background Remover</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* {
    box-sizing: border-box;
    font-family: Arial, sans-serif;
}

body {
    background: #f6f7fb;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 420px;
    margin: 40px auto;
    background: #fff;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    text-align: center;
}

h1 {
    font-size: 22px;
    margin-bottom: 10px;
}

p {
    color: #666;
    font-size: 14px;
}

.upload-box {
    margin: 20px 0;
    padding: 30px;
    border: 2px dashed #6a4cff;
    border-radius: 12px;
    cursor: pointer;
    background: #faf9ff;
}

.upload-box:hover {
    background: #f1eeff;
}

.upload-box span {
    color: #6a4cff;
    font-weight: bold;
}

input[type="file"] {
    display: none;
}

button {
    background: #6a4cff;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
}

button:disabled {
    background: #aaa;
}

.preview {
    margin-top: 20px;
}

.preview img {
    width: 100%;
    border-radius: 10px;
    margin-bottom: 10px;
}

.download {
    background: #111;
}

.footer {
    margin-top: 20px;
    font-size: 12px;
    color: #888;
}
</style>
</head>

<body>

<div class="container">
    <h1>Remove Background</h1>
    <p>Upload an image and remove background instantly with AI</p>

    <label class="upload-box">
        <input type="file" id="fileInput" accept="image/*">
        <span>Click to upload</span> or drag & drop image
    </label>

    <button id="removeBtn" onclick="removeBg()">Remove Background</button>

    <div class="preview" id="preview"></div>

    <button class="download" id="downloadBtn" style="display:none;">Download Image</button>

    <div class="footer">
        Powered by AI Background Removal
    </div>
</div>

<script>
const fileInput = document.getElementById("fileInput");
const preview = document.getElementById("preview");
const removeBtn = document.getElementById("removeBtn");
const downloadBtn = document.getElementById("downloadBtn");

let outputImageURL = "";

fileInput.addEventListener("change", () => {
    const file = fileInput.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = () => {
        preview.innerHTML = `<p>Original</p><img src="${reader.result}">`;
    };
    reader.readAsDataURL(file);
});

async function removeBg() {
    if (!fileInput.files.length) {
        alert("Please upload an image");
        return;
    }

    removeBtn.disabled = true;
    removeBtn.innerText = "Processing...";

    const formData = new FormData();
    formData.append("image_file", fileInput.files[0]);
    formData.append("size", "auto");

    try {
        const response = await fetch("https://api.remove.bg/v1.0/removebg", {
            method: "POST",
            headers: {
                "X-Api-Key": LE5aSdbwvWquE5cr5axPxiuv
            },
            body: formData
        });

        if (!response.ok) throw new Error("Failed");

        const blob = await response.blob();
        outputImageURL = URL.createObjectURL(blob);

        preview.innerHTML += `<p>Result</p><img src="${outputImageURL}">`;

        downloadBtn.style.display = "block";

    } catch (err) {
        alert("Error removing background");
        console.error(err);
    }

    removeBtn.disabled = false;
    removeBtn.innerText = "Remove Background";
}

downloadBtn.onclick = () => {
    const a = document.createElement("a");
    a.href = outputImageURL;
    a.download = "background-removed.png";
    a.click();
};
</script>

</body>
</html>
